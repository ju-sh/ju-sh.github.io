<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>more</title>
  <style>
    body {
      max-width: 38rem;
      padding: 2rem;
      margin: auto;
      background-color: #FAF0E6;
    }
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
  </style>

</head>
<body>


<div id="header">
<a href="https://ju-sh.github.io">Home</a>
 | 
<a href="https://ju-sh.github.io/blog/index.html">Blog</a>
 | 
<a href="https://ju-sh.github.io/wiki/index.html">Wiki</a>
 | 
<a href="https://ju-sh.github.io/about.html">About</a>
</div>


<ul>
    </ul>




<hr/>

<div id="content-container">
<ul>
<li>Rewrite rules: <a href="https://ghc.gitlab.haskell.org/ghc/doc/users_guide/exts/rewrite_rules.html#rewrite-rules">https://ghc.gitlab.haskell.org/ghc/doc/users_guide/exts/rewrite_rules.html#rewrite-rules</a></li>
<li>Pattern types</li>
</ul>
<p>Read: A history of haskell 2007: <a href="https://dl.acm.org/doi/pdf/10.1145/1238844.1238856">https://dl.acm.org/doi/pdf/10.1145/1238844.1238856</a></p>
<h2 id="megaparsec">MegaParsec</h2>
<p>Monad transformer: Think of it as a function taking a monad and returning another monad.</p>
<p>Megaparsec:</p>
<ul>
<li>ParsecT err inp m res: monad transformer
<ul>
<li>err: err message type</li>
<li>inp: input type</li>
<li>m: inner monad</li>
<li>res: result type</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="dt">Parsec</span> e inp res <span class="ot">=</span> <span class="dt">ParsecT</span> e inp <span class="dt">Identity</span> res</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="co">-- Parser res = Parsec Void Text res</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="kw">type</span> <span class="dt">Parser</span> <span class="ot">=</span> <span class="dt">Parsec</span> <span class="dt">Void</span> <span class="dt">Text</span></span></code></pre></div>
<h2 id="hedgehog">Hedgehog</h2>
<ul>
<li><code>Property</code>: Invariants that would be tested fuzzily</li>
<li><code>Gen a</code>: Generator for random values of a
<ul>
<li><code>type Gen = GenT Identity</code></li>
</ul></li>
<li><code>MonadGen</code>: Class of monads which can generate input data for tests</li>
<li>Get samples: <code>Gen.sample</code></li>
</ul>
<p>See:</p>
<ul>
<li><a href="https://hackage.haskell.org/package/hedgehog-1.5/docs/Hedgehog.html">https://hackage.haskell.org/package/hedgehog-1.5/docs/Hedgehog.html</a></li>
<li><a href="https://hackage.haskell.org/package/hedgehog-1.5/docs/Hedgehog-Gen.html">https://hackage.haskell.org/package/hedgehog-1.5/docs/Hedgehog-Gen.html</a></li>
<li><a href="https://hackage.haskell.org/package/hedgehog-1.5/docs/Hedgehog-Range.html">https://hackage.haskell.org/package/hedgehog-1.5/docs/Hedgehog-Range.html</a></li>
</ul>
<hr />
<pre><code>λ&gt; :t G.int $ R.constant 0 10
G.int $ R.constant 0 10 :: MonadGen m =&gt; m Int
</code></pre>
<h2 id="darcs">darcs</h2>
<p><a href="https://darcs.net/QuickStart">https://darcs.net/QuickStart</a></p>
<p>Focus is on 'changes' rather than 'snapshots'.</p>
<ul>
<li>Init: darcs init</li>
<li>Clone a repo: darcs clone ..</li>
<li>Record (ie, commit): darcs record -m "commit message"</li>
<li>Show untracked files: darcs whatsnew -l</li>
<li>Show untracked changes in tracked files: darcs whatsnew</li>
<li>Add a file to repo: darcs add &lt;filename&gt;</li>
<li>Push: darcs push</li>
<li>'Uncommit' a record, while preserving working copy: darcs unrecord</li>
</ul>
<p>–</p>
<p>Git analogues:</p>
<table>
<thead>
<tr class="header">
<th>git</th>
<th>darcs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>commit</td>
<td>record</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>
