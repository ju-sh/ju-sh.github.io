<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Linear algebra</title>
  <style>
    body {
      max-width: 38rem;
      padding: 2rem;
      margin: auto;
      background-color: #FAF0E6;
    }
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
  </style>

</head>
<body>


<div id="header">
<a href="https://ju-sh.github.io">Home</a>
 | 
<a href="https://ju-sh.github.io/blog/index.html">Blog</a>
 | 
<a href="https://ju-sh.github.io/wiki/index.html">Wiki</a>
 | 
<a href="https://ju-sh.github.io/about.html">About</a>
</div>

<header id="title-block-header">
<h1 class="title">Linear algebra</h1>
</header>

<ul>
    </ul>




<hr/>

<div id="content-container">
<h2 id="sparse-matrix">Sparse matrix</h2>
<p>Forms of sparse matrix representations:</p>
<ul>
<li>Compressed Column Storage (CCS)
<ul>
<li>aka Compressed Sparse Column (CSC)</li>
</ul></li>
<li>Compressed Row Storage (CRS)
<ul>
<li>aka Compressed Sparse Row (CSR)</li>
<li>aka Yale format</li>
</ul></li>
</ul>
<p><a href="https://en.wikipedia.org/wiki/Sparse_matrix">https://en.wikipedia.org/wiki/Sparse_matrix</a></p>
<h3 id="sparsity-and-density">Sparsity and density</h3>
<pre><code>             number of zero elements
Sparsity = ────────────────────────────
             total number of elements


            number of non-zero elements
Density = ────────────────────────────
             total number of elements


Sparsity + Density = 1
</code></pre>
<p>Example:</p>
<pre><code>⎡ 1  0  0  0  7  0  0 ⎤
⎢ 0  4  0  0  0  0  0 ⎥
⎢ 0  0  0  2  0  9  0 ⎥
⎢ 0  0  0  0  0  0  0 ⎥
⎣ 0  1  0  8  0  3  0 ⎦
</code></pre>
<ul>
<li>Number of non-zero values = 8</li>
<li>Number of zero values = 35-8 = 27</li>
<li>Total number of values = 5*7 = 35</li>
<li>Density = (8/35)*100 = 0.23*100 = 23%</li>
<li>Sparsity = (27/35)*100 = 0.77*100 = 77%</li>
</ul>
<h3 id="csr-format">CSR format</h3>
<ul>
<li><p>Compressed Storage Row (aka CRS, CSR)</p></li>
<li><p>Subsequent non-zero elements are in contiguous memory locations <a href="https://netlib.org/linalg/html_templates/node91.html">ʳ</a></p></li>
<li><p>Matrix <code>M</code> is represented using three vectors.</p>
<ul>
<li>values: Non-zero values</li>
<li>rowIdx: Row index in <code>M</code> of values</li>
<li>colIdx: Column index in <code>M</code> of values</li>
</ul></li>
<li><p>Each of these vectors are of size <code>n</code>, where <code>n</code> is number of non-zero values in <code>M</code></p></li>
<li><p>(Indexing starts from 0)</p></li>
<li><p>Convention: NNZ = number of non-zero values</p></li>
</ul>
<ul>
<li>Rows are traversed, row<sub>ptr</sub> is 'compressed'</li>
</ul>
<p>For example:</p>
<pre><code>   |   0  1  2  3  4  5  6
---+------------------------
 0 | ⎡ 1  0  0  0  7  0  0 ⎤
 1 | ⎢ 0  4  0  0  0  0  0 ⎥
 2 | ⎢ 0  0  0  2  0  9  0 ⎥
 3 | ⎢ 0  0  0  0  0  0  0 ⎥
 4 | ⎣ 0  1  0  8  0  3  0 ⎦
</code></pre>
<ul>
<li>values: [1,7,4,2,9,1,8,3]</li>
<li>col<sub>ind</sub>: [0,4,1,3,5,1,3,5]</li>
</ul>
<p>ie, val[i,j] = x means:</p>
<ul>
<li>col<sub>ptr</sub>[x] = j</li>
</ul>
<p>See:</p>
<ul>
<li><a href="https://netlib.org/linalg/html_templates/node91.html">https://netlib.org/linalg/html_templates/node91.html</a></li>
<li><a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html</a></li>
</ul>
<h3 id="csc-format">CSC format</h3>
<ul>
<li><p>Compressed Storage Column (aka CSC, CCS)</p></li>
<li><p>aka Harwell-Boeing sparse matrix format</p></li>
<li><p>Columns are traversed, column<sub>ptr</sub> is 'compressed'.</p></li>
</ul>
<p>See:</p>
<ul>
<li><a href="https://netlib.org/linalg/html_templates/node92.html">https://netlib.org/linalg/html_templates/node92.html</a></li>
</ul>
</div>
</body>
</html>
