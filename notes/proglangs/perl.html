<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Perl</title>
  <style>
    body {
      max-width: 38rem;
      padding: 2rem;
      margin: auto;
      background-color: #FAF0E6;
    }
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
  </style>

</head>
<body>


<div id="header">
<a href="https://ju-sh.github.io">Home</a>
 | 
<a href="https://ju-sh.github.io/blog/index.html">Blog</a>
 | 
<a href="https://ju-sh.github.io/wiki/index.html">Wiki</a>
 | 
<a href="https://ju-sh.github.io/about.html">About</a>
</div>

<header id="title-block-header">
<h1 class="title">Perl</h1>
</header>

<ul>
    </ul>




<hr/>

<div id="content-container">
<p>Looks like the main use of perl these days is to maintain old code which used perl. Perhaps, Python has taken over the role that perl used to play earlier. Still, perl run faster than python (especially for regex operations).</p>
<ul>
<li>Possible expansion of PERL: Practical Extraction and Reporting Language</li>
<li>Perl 5 is current perl</li>
<li>Perl 6 turned out to be Raku</li>
</ul>
<p>Resource:</p>
<ul>
<li><em>Perl Hacks: Tips &amp; Tools for Programming, Debugging, and Surviving</em> - Shane Warden, Damian Conway, Curtis 'Ovid' Poe</li>
</ul>
<h2 id="general">General</h2>
<ul>
<li>Comments: Starts with <code>#</code></li>
<li><code>shift</code>: remove the first element in array and return that value</li>
<li><code>unshift</code>: prefix the given elements to the beginning of an array</li>
<li><code>push</code>: append elements to end of array</li>
<li><code>pop</code>: remove last element of array and return that value</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="dt">@arr</span> = (<span class="kw">&#39;</span><span class="st">Hi.</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">Jack</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">and</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">Jill</span><span class="kw">&#39;</span>);</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">@arr</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="fu">push</span>(<span class="dt">@arr</span>, <span class="kw">&#39;</span><span class="st">went</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">up</span><span class="kw">&#39;</span>);</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">@arr</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a><span class="fu">unshift</span>(<span class="dt">@arr</span>, <span class="kw">&#39;</span><span class="st">Hello</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">and</span><span class="kw">&#39;</span>);</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">@arr</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a><span class="kw">my</span> <span class="dt">$v1</span> = <span class="fu">pop</span>(<span class="dt">@arr</span>);</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">v1: </span><span class="dt">$v1</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">@arr</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a><span class="kw">my</span> <span class="dt">$v2</span> = <span class="fu">shift</span>(<span class="dt">@arr</span>);</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">v2: </span><span class="dt">$v2</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">@arr</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true"></a><span class="co"># Hi. Jack and Jill</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true"></a><span class="co"># Hi. Jack and Jill went up</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true"></a><span class="co"># Hello and Hi. Jack and Jill went up</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true"></a><span class="co"># v1: up</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true"></a><span class="co"># Hello and Hi. Jack and Jill went</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true"></a><span class="co"># v2: Hello</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true"></a><span class="co"># and Hi. Jack and Jill went</span></span></code></pre></div>
<h2 id="strings">Strings</h2>
<ul>
<li><code>qw()</code>: quoted word</li>
<li><code>chomp()</code>: remove newline from end of string ??</li>
<li><code>lc()</code>: convert string to lowercase</li>
<li><code>length()</code>: Lents of a string</li>
<li>String concatenation: <code>$str1 . $str2</code></li>
<li>String formatting: <code>sprintf</code>
<ul>
<li>Also see string interpolation: <a href="https://perldoc.perl.org/perlop#Gory-details-of-parsing-quoted-constructs">https://perldoc.perl.org/perlop#Gory-details-of-parsing-quoted-constructs</a></li>
</ul></li>
</ul>
<h3 id="quoted-strings">Quoted strings</h3>
<ul>
<li>q: single quoted string</li>
<li>qq: double quoted string
<ul>
<li>Delimiter is usually <code>/</code>, but can be other symbols too.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>&gt; <span class="kw">my</span> <span class="dt">$s</span> = <span class="kw">q/</span><span class="st">&quot;String&quot; not yet over</span><span class="kw">/</span>;</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="kw">&#39;</span><span class="st">&quot;String&quot; not yet over</span><span class="kw">&#39;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>&gt; <span class="fu">print</span> <span class="dt">$s</span>;</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="kw">&quot;</span><span class="st">String</span><span class="kw">&quot;</span> <span class="kw">not</span> yet over</span></code></pre></div>
<h2 id="variables">Variables</h2>
<p><a href="https://perldoc.perl.org/variables">https://perldoc.perl.org/variables</a></p>
<ul>
<li>Scalar variables start with: <code>$</code>
<ul>
<li>The <code>$</code> looks like 's'</li>
</ul></li>
<li>Array variables start with: <code>@</code>
<ul>
<li>The <code>@</code> looks like 'a'</li>
</ul></li>
<li>By default, variables are global.
<ul>
<li>Include <code>use strict;</code> to make perl warn you of implicit global variables.</li>
</ul></li>
<li>Use <code>my</code> to declare local variables.
<ul>
<li>Declaration of multiple <code>my</code> vars: <code>my ($a, $b);</code></li>
</ul></li>
</ul>
<h2 id="functions">Functions</h2>
<p><a href="https://perldoc.perl.org/perlsub">https://perldoc.perl.org/perlsub</a></p>
<ul>
<li>Subroutines: Functions in perl
<ul>
<li>Defined with <code>sub</code></li>
<li>Eg: <code>sub foo { }</code></li>
</ul></li>
<li><code>@_</code>: array containing function args
<ul>
<li><code>$_[0]</code>: 1st arg, <code>$_[1]</code>: 2nd arg, etc</li>
</ul></li>
</ul>
<h2 id="multiple-variable-with-same-name">Multiple variable with same name</h2>
<p>If there are two variables in current scope which has the same name (say, <code>$x</code>), use <code>::$x</code> to unshadow outer variable.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>// Global var set</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="dt">$pi</span> = <span class="fl">3.14</span>;</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Pi is </span><span class="dt">$pi</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a>{</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a>  <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Inside block</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true"></a>  // Global var <span class="fu">reset</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true"></a>  <span class="dt">$pi</span> = <span class="fl">3.1415</span>;</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true"></a>  <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Inner Pi is </span><span class="dt">$pi</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true"></a>  <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Outer pi is </span><span class="dt">$::pi</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true"></a>  // Local var set</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true"></a>  <span class="kw">my</span> <span class="dt">$pi</span> = <span class="fl">3.141592</span>;</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true"></a>  <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Inner Pi is </span><span class="dt">$pi</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true"></a>  <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Outer pi is </span><span class="dt">$::pi</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true"></a>  <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Leaving block</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true"></a>}</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true"></a>// The <span class="kw">local</span> var is <span class="fu">no</span> longer in scope.</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true"></a>// Latest value of global var is printed.</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Pi is </span><span class="dt">$pi</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true"></a><span class="co"># Pi is 3.14</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true"></a><span class="co"># Inside block</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true"></a><span class="co"># Inner Pi is 3.1415</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true"></a><span class="co"># Outer pi is 3.1415</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true"></a><span class="co"># Inner Pi is 3.141592</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true"></a><span class="co"># Outer pi is 3.1415</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true"></a><span class="co"># Leaving block</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true"></a><span class="co"># Pi is 3.1415</span></span></code></pre></div>
<h2 id="arrays">Arrays</h2>
<p><a href="https://www.perltutorial.org/perl-array/">https://www.perltutorial.org/perl-array/</a></p>
<ul>
<li><p>Number of elements: <code>@arr</code></p></li>
<li><p>Highest index: <code>$#arr</code></p></li>
<li><p>Stack operations:</p>
<ul>
<li><code>push()</code></li>
<li><code>pop()</code></li>
</ul></li>
<li><p>Queue operations:</p>
<ul>
<li><code>shift()</code>: remove first element of array</li>
<li><code>unshift()</code>: add elements to front of array</li>
<li><code>pop()</code>: remove last element of array</li>
</ul></li>
<li><p>Sort array: <code>sort @arr</code></p></li>
</ul>
<h3 id="indexing">Indexing</h3>
<ul>
<li>Indexing starts from 0: <code>$arr[i]</code></li>
<li>Negative indexing and index slices possible.
<ul>
<li>Eg: <code>$arr[-2..-1]</code></li>
</ul></li>
</ul>
<h2 id="hashes">Hashes</h2>
<p>Hash variable names start with a <code>%</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="dt">%hash</span>={<span class="kw">&quot;</span><span class="st">one</span><span class="kw">&quot;</span>=&gt;<span class="dv">1</span>,<span class="kw">&quot;</span><span class="st">two</span><span class="kw">&quot;</span>=&gt;<span class="dv">2</span>,<span class="kw">&quot;</span><span class="st">three</span><span class="kw">&quot;</span>=&gt;<span class="dv">3</span>}</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="fu">print</span> <span class="dt">$hash</span>{<span class="kw">&quot;</span><span class="st">one</span><span class="kw">&quot;</span>}</span></code></pre></div>
<h2 id="inline-perl">Inline perl</h2>
<p>Use <code>-e</code> option.</p>
<pre><code>perl -e &#39;print(&quot;Hey!\n&quot;)&#39;
Hey!
</code></pre>
<h2 id="loop">Loop</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="co"># $elem is scalar, @elems is an array</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="kw">foreach</span> <span class="dt">$elem</span> in <span class="dt">@elems</span> {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a>  <span class="co"># ...</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a>}</span></code></pre></div>
<h2 id="cpan">cpan</h2>
<p>WARNING: Probably never tried any of the following…</p>
<ul>
<li><p>Install a module: <code>cpan Module::Name</code></p>
<ul>
<li>Same as: <code>cpan -i Module::Name</code> (∵ the <code>-i</code> switch is default)</li>
<li>May take some time to finish.</li>
</ul></li>
<li><p>Installation of new packages: <code>cpan &lt;package-name&gt;</code></p>
<ul>
<li>Examples:
<ul>
<li><code>cpan Unicode::GCString</code></li>
<li><code>cpan YAML::Tiny</code></li>
<li><code>cpan File::HomeDir</code></li>
</ul></li>
</ul></li>
<li><p>Run <code>o conf init</code> inside cpan to re-run configuration</p></li>
<li><p><code>cpanm</code> (cpanminus): something to supplement cpan ??</p>
<ul>
<li>Considered simpler to use than <code>cpan</code>.</li>
<li>Installable with <code>cpan App::cpanminus</code> or using distro package manager.</li>
</ul></li>
</ul>
<h2 id="misc">Misc</h2>
<ul>
<li><code>perltidy</code>: automatic code formatter
<ul>
<li>Package: <code>Perl::Tidy</code></li>
</ul></li>
<li>A perl repl: Many options, each with their own pros and cons.
<ul>
<li><code>rlwrap perl -de1</code>
<ul>
<li>Doesn't support <code>my</code> variables ??</li>
</ul></li>
<li><code>reply</code>: <a href="https://metacpan.org/pod/Reply">https://metacpan.org/pod/Reply</a>
<ul>
<li>Install with <code>cpanm Reply</code></li>
</ul></li>
</ul></li>
</ul>
<h2 id="more">More</h2>
<ul>
<li>Perl regex</li>
<li>String formatting/templating</li>
<li>Time management and formatting</li>
<li>Example perl script (LaTeXTidy.pl): <a href="http://web.archive.org/web/20160822025224/http://bfc.sfsu.edu/LaTeXTidy-0.31.pl">http://web.archive.org/web/20160822025224/http://bfc.sfsu.edu/LaTeXTidy-0.31.pl</a></li>
</ul>
</div>
</body>
</html>
